# üìã –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ Webtoon Graph Editor –Ω–∞ Supabase —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
- ‚úÖ –ü—Ä–æ–µ–∫—Ç **interactive webtoon** —Å–æ–∑–¥–∞–Ω –≤ Supabase
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚è≥ –û–∂–∏–¥–∞–µ—Ç: —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

## üöÄ Quick Start - –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ API –∫–ª—é—á–∏** –∏–∑ Dashboard ‚Üí Settings ‚Üí API:
   - Project URL: `https://ennbxoy1oehzntqzxqvu.supabase.co`
   - Anon Key: —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `.env.local`

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é —Å—Ö–µ–º—É –ë–î** (–≤–∫–ª—é—á–∞–µ—Ç —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏):
   - –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL –∏–∑ **–§–∞–∑—ã 1.2** –Ω–∏–∂–µ
   - –ù–∞–∂–º–∏—Ç–µ **Run**

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ npm –ø–∞–∫–µ—Ç—ã**:
   ```bash
   npm install @supabase/supabase-js @supabase/auth-ui-react react-query
   ```

---

## üìÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞: 4-5 –Ω–µ–¥–µ–ª—å
- **–ë–∞–∑–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è**: 2 –Ω–µ–¥–µ–ª–∏
- **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: 1 –Ω–µ–¥–µ–ª—è
- **–ü—Ä–æ—Ñ–∏–ª–∏ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã**: 1 –Ω–µ–¥–µ–ª—è
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 1 –Ω–µ–¥–µ–ª—è

---

## –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚úÖ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ!)

### ‚úÖ –£–∂–µ —Å–¥–µ–ª–∞–Ω–æ:
- [x] –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ Supabase: **interactive webtoon**
- [x] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub: **drdangr**
- [x] –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

### üìã –û—Å—Ç–∞–ª–æ—Å—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å:
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL:
  - –ì–∞–ª–µ—Ä–µ—è: `/gallery`
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–∏–∫—Å–∞: `/view/[slug]`
  - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `/user/[username]`
  - –ñ–∞–Ω—Ä: `/genre/[genre-slug]`

### üõ† –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
npm install @supabase/supabase-js
npm install @supabase/auth-ui-react @supabase/auth-ui-shared
npm install react-query # –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
npm install zustand # –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–µ–π—Ç–∞

# UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
npm install react-hot-toast # —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
npm install framer-motion # –∞–Ω–∏–º–∞—Ü–∏–∏ –ª–∞–π–∫–æ–≤
```

---

## –§–∞–∑–∞ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å—Ö–µ–º–æ–π

### 1.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ

–ü—Ä–æ–µ–∫—Ç **interactive webtoon** —É–∂–µ —Å–æ–∑–¥–∞–Ω! –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å credentials –∏–∑ Dashboard:
```env
# .env.local
VITE_SUPABASE_URL=https://ennbxoy1oehzntqzxqvu.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGc....[–≤–∞—à anon key –∏–∑ Settings -> API]
```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Authentication providers:
   - GitHub —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω ‚úÖ
   - –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤–∫–ª—é—á–∏—Ç—å: Email/Password, Google
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redirect URLs –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å—Ö–µ–º—ã –ë–î

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:**

```sql
-- ============================================
-- –û–°–ù–û–í–ù–´–ï –¢–ê–ë–õ–ò–¶–´
-- ============================================

-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE public.profiles (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  username TEXT UNIQUE NOT NULL,
  full_name TEXT,
  bio TEXT, -- –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
  avatar_url TEXT,
  website TEXT,
  social_links JSONB DEFAULT '{}', -- {twitter: "", instagram: ""}
  
  -- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
  total_projects INTEGER DEFAULT 0,
  total_views INTEGER DEFAULT 0,
  total_likes INTEGER DEFAULT 0,
  
  subscription_tier TEXT DEFAULT 'free',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW()),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- –¢–∞–±–ª–∏—Ü–∞ –∂–∞–Ω—Ä–æ–≤
CREATE TABLE public.genres (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  name TEXT UNIQUE NOT NULL,
  slug TEXT UNIQUE NOT NULL,
  description TEXT,
  color TEXT DEFAULT '#3B82F6', -- hex —Ü–≤–µ—Ç –¥–ª—è UI
  icon TEXT DEFAULT 'üìö', -- emoji –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏
  order_index INTEGER DEFAULT 0,
  project_count INTEGER DEFAULT 0, -- –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å—á–µ—Ç—á–∏–∫
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
CREATE TABLE public.projects (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  genre_id UUID REFERENCES public.genres(id),
  
  title TEXT NOT NULL,
  description TEXT,
  thumbnail_url TEXT,
  slug TEXT UNIQUE,
  
  -- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
  view_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  comment_count INTEGER DEFAULT 0,
  
  -- –°—Ç–∞—Ç—É—Å—ã
  is_published BOOLEAN DEFAULT false,
  is_public BOOLEAN DEFAULT false,
  is_featured BOOLEAN DEFAULT false, -- –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  
  -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  estimated_reading_time INTEGER, -- –≤ –º–∏–Ω—É—Ç–∞—Ö
  tags TEXT[] DEFAULT '{}', -- –º–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤
  
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW()),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- –í–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE public.project_versions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  version_number INTEGER NOT NULL,
  nodes JSONB NOT NULL,
  edges JSONB NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW()),
  created_by UUID REFERENCES auth.users(id)
);

-- –¢–∞–±–ª–∏—Ü–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE public.images (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  file_path TEXT NOT NULL,
  file_url TEXT NOT NULL,
  file_name TEXT NOT NULL,
  file_size INTEGER,
  width INTEGER,
  height INTEGER,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- ============================================
-- –°–û–¶–ò–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
-- ============================================

-- –¢–∞–±–ª–∏—Ü–∞ –ª–∞–π–∫–æ–≤
CREATE TABLE public.likes (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW()),
  UNIQUE(project_id, user_id) -- –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–∏–Ω –ª–∞–π–∫ –Ω–∞ –ø—Ä–æ–µ–∫—Ç
);

-- –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
CREATE TABLE public.views (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  user_id UUID REFERENCES auth.users(id), -- NULL –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö
  session_id TEXT,
  ip_address INET,
  referrer TEXT,
  user_agent TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- –¢–∞–±–ª–∏—Ü–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞ –±—É–¥—É—â–µ–µ)
CREATE TABLE public.comments (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  parent_id UUID REFERENCES public.comments(id), -- –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
  content TEXT NOT NULL,
  is_edited BOOLEAN DEFAULT false,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW()),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞
CREATE TABLE public.follows (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  follower_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  following_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW()),
  UNIQUE(follower_id, following_id)
);

-- ============================================
-- –ê–ù–ê–õ–ò–¢–ò–ö–ê –ò –ú–ï–¢–†–ò–ö–ò
-- ============================================

-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
CREATE TABLE public.analytics (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  session_id TEXT NOT NULL,
  user_id UUID REFERENCES auth.users(id),
  
  -- –î–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
  path_taken JSONB NOT NULL,
  choices_made JSONB,
  completion_rate FLOAT,
  time_spent INTEGER, -- –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
  
  -- –ö–æ–Ω—Ç–µ–∫—Å—Ç
  device_type TEXT, -- mobile, tablet, desktop
  browser TEXT,
  country TEXT,
  
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ö–æ—Ç—Å–ø–æ—Ç–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE public.hotspots (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  project_id UUID REFERENCES public.projects(id) ON DELETE CASCADE NOT NULL,
  edge_id TEXT NOT NULL,
  x_position FLOAT NOT NULL,
  y_position FLOAT NOT NULL,
  width FLOAT NOT NULL,
  height FLOAT NOT NULL,
  label TEXT,
  click_count INTEGER DEFAULT 0,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc', NOW())
);

-- ============================================
-- –ò–ù–î–ï–ö–°–´ –î–õ–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò
-- ============================================

-- –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_projects_user_id ON public.projects(user_id);
CREATE INDEX idx_projects_genre_id ON public.projects(genre_id);
CREATE INDEX idx_projects_slug ON public.projects(slug);
CREATE INDEX idx_projects_published ON public.projects(is_published, is_public);
CREATE INDEX idx_projects_featured ON public.projects(is_featured) WHERE is_featured = true;

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
CREATE INDEX idx_projects_view_count ON public.projects(view_count DESC);
CREATE INDEX idx_projects_like_count ON public.projects(like_count DESC);
CREATE INDEX idx_projects_created_at ON public.projects(created_at DESC);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
CREATE INDEX idx_likes_project_id ON public.likes(project_id);
CREATE INDEX idx_likes_user_id ON public.likes(user_id);
CREATE INDEX idx_views_project_id ON public.views(project_id);
CREATE INDEX idx_follows_follower ON public.follows(follower_id);
CREATE INDEX idx_follows_following ON public.follows(following_id);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
CREATE INDEX idx_analytics_project_id ON public.analytics(project_id);
CREATE INDEX idx_analytics_created_at ON public.analytics(created_at DESC);
CREATE INDEX idx_images_project_id ON public.images(project_id);

-- ============================================
-- –§–£–ù–ö–¶–ò–ò –ò –¢–†–ò–ì–ì–ï–†–´
-- ============================================

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –Ω–∞–∫—Ä—É—Ç–∫–∏
CREATE OR REPLACE FUNCTION increment_view_count(
  p_project_id UUID,
  p_user_id UUID DEFAULT NULL,
  p_session_id TEXT DEFAULT NULL
)
RETURNS void AS $$
DECLARE
  v_last_view TIMESTAMP;
BEGIN
  -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–º–æ—Ç—Ä–µ–ª –ª–∏ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/—Å–µ—Å—Å–∏—è –Ω–µ–¥–∞–≤–Ω–æ
  IF p_user_id IS NOT NULL THEN
    SELECT created_at INTO v_last_view
    FROM views
    WHERE project_id = p_project_id 
      AND user_id = p_user_id
    ORDER BY created_at DESC
    LIMIT 1;
  ELSIF p_session_id IS NOT NULL THEN
    SELECT created_at INTO v_last_view
    FROM views
    WHERE project_id = p_project_id 
      AND session_id = p_session_id
    ORDER BY created_at DESC
    LIMIT 1;
  END IF;
  
  -- –°—á–∏—Ç–∞–µ–º –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ —á–∞—Å–∞
  IF v_last_view IS NULL OR (NOW() - v_last_view) > INTERVAL '1 hour' THEN
    -- –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
    UPDATE projects 
    SET view_count = view_count + 1 
    WHERE id = p_project_id;
    
    -- –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
    INSERT INTO views (project_id, user_id, session_id) 
    VALUES (p_project_id, p_user_id, p_session_id);
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∞–≤—Ç–æ—Ä–∞
    UPDATE profiles 
    SET total_views = total_views + 1
    WHERE id = (SELECT user_id FROM projects WHERE id = p_project_id);
  END IF;
END;
$$ LANGUAGE plpgsql;

-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –ª–∞–π–∫–æ–≤
CREATE OR REPLACE FUNCTION update_like_count()
RETURNS TRIGGER AS $$
BEGIN
  IF TG_OP = 'INSERT' THEN
    -- –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
    UPDATE projects 
    SET like_count = like_count + 1 
    WHERE id = NEW.project_id;
    
    -- –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ –∞–≤—Ç–æ—Ä–∞
    UPDATE profiles 
    SET total_likes = total_likes + 1
    WHERE id = (SELECT user_id FROM projects WHERE id = NEW.project_id);
    
  ELSIF TG_OP = 'DELETE' THEN
    -- –£–º–µ–Ω—å—à–∞–µ–º —Å—á–µ—Ç—á–∏–∫–∏
    UPDATE projects 
    SET like_count = like_count - 1 
    WHERE id = OLD.project_id;
    
    UPDATE profiles 
    SET total_likes = total_likes - 1
    WHERE id = (SELECT user_id FROM projects WHERE id = OLD.project_id);
  END IF;
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_project_likes
AFTER INSERT OR DELETE ON likes
FOR EACH ROW EXECUTE FUNCTION update_like_count();

-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE OR REPLACE FUNCTION update_user_project_count()
RETURNS TRIGGER AS $$
BEGIN
  IF TG_OP = 'INSERT' THEN
    UPDATE profiles 
    SET total_projects = total_projects + 1
    WHERE id = NEW.user_id;
    
    -- –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –≤ –∂–∞–Ω—Ä–µ
    IF NEW.genre_id IS NOT NULL THEN
      UPDATE genres 
      SET project_count = project_count + 1
      WHERE id = NEW.genre_id;
    END IF;
    
  ELSIF TG_OP = 'DELETE' THEN
    UPDATE profiles 
    SET total_projects = total_projects - 1
    WHERE id = OLD.user_id;
    
    IF OLD.genre_id IS NOT NULL THEN
      UPDATE genres 
      SET project_count = project_count - 1
      WHERE id = OLD.genre_id;
    END IF;
  END IF;
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_user_projects
AFTER INSERT OR DELETE ON projects
FOR EACH ROW EXECUTE FUNCTION update_user_project_count();

-- ============================================
-- –í–°–¢–ê–í–ö–ê –ù–ê–ß–ê–õ–¨–ù–´–• –î–ê–ù–ù–´–•
-- ============================================

-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
INSERT INTO public.genres (name, slug, description, color, icon, order_index) VALUES
  ('–†–æ–º–∞–Ω—Ç–∏–∫–∞', 'romance', '–ò—Å—Ç–æ—Ä–∏–∏ –æ –ª—é–±–≤–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö', '#EC4899', 'üíï', 1),
  ('–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è', 'adventure', '–ó–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –∏ –∫–≤–µ—Å—Ç—ã', '#10B981', 'üó∫Ô∏è', 2),
  ('–§—ç–Ω—Ç–µ–∑–∏', 'fantasy', '–ú–∞–≥–∏—á–µ—Å–∫–∏–µ –º–∏—Ä—ã –∏ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ', '#8B5CF6', 'üîÆ', 3),
  ('–ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞', 'sci-fi', '–ë—É–¥—É—â–µ–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '#06B6D4', 'üöÄ', 4),
  ('–î–µ—Ç–µ–∫—Ç–∏–≤', 'mystery', '–¢–∞–π–Ω—ã –∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è', '#6B7280', 'üîç', 5),
  ('–•–æ—Ä—Ä–æ—Ä', 'horror', '–°—Ç—Ä–∞—à–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏', '#DC2626', 'üëª', 6),
  ('–ö–æ–º–µ–¥–∏—è', 'comedy', '–°–º–µ—à–Ω—ã–µ –∏ –ª–µ–≥–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏', '#F59E0B', 'üòÑ', 7),
  ('–î—Ä–∞–º–∞', 'drama', '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏', '#3B82F6', 'üé≠', 8),
  ('–≠–∫—à–µ–Ω', 'action', '–î–∏–Ω–∞–º–∏—á–Ω—ã–µ —Å—é–∂–µ—Ç—ã —Å –±–æ—è–º–∏', '#EF4444', '‚öîÔ∏è', 9),
  ('–ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç—å', 'slice-of-life', '–ò—Å—Ç–æ—Ä–∏–∏ –∏–∑ –∂–∏–∑–Ω–∏', '#84CC16', '‚òï', 10);

-- ============================================
-- –ü–†–û–í–ï–†–ö–ê –£–°–¢–ê–ù–û–í–ö–ò
-- ============================================

-- –¢–µ—Å—Ç: –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public'
ORDER BY table_name;

-- –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã:
-- analytics, comments, follows, genres, hotspots, images, likes, 
-- profiles, project_versions, projects, views
```

### 1.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Row Level Security (RLS)

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö:**

```sql
-- –í–∫–ª—é—á–∏—Ç—å RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.projects ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.project_versions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.images ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.genres ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.likes ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.views ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.comments ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.follows ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.hotspots ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.analytics ENABLE ROW LEVEL SECURITY;

-- ============================================
-- –ü–û–õ–ò–¢–ò–ö–ò –î–õ–Ø PROFILES
-- ============================================

CREATE POLICY "Public profiles are viewable by everyone" 
  ON public.profiles FOR SELECT 
  USING (true);

CREATE POLICY "Users can update own profile" 
  ON public.profiles FOR UPDATE 
  USING (auth.uid() = id);

CREATE POLICY "Users can insert own profile" 
  ON public.profiles FOR INSERT 
  WITH CHECK (auth.uid() = id);

-- ============================================
-- –ü–û–õ–ò–¢–ò–ö–ò –î–õ–Ø PROJECTS
-- ============================================

CREATE POLICY "Published projects are viewable by everyone" 
  ON public.projects FOR SELECT 
  USING (
    is_public = true 
    OR auth.uid() = user_id
  );

CREATE POLICY "Users can create own projects" 
  ON public.projects FOR INSERT 
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update own projects" 
  ON public.projects FOR UPDATE 
  USING (auth.uid() = user_id);

CREATE POLICY "Users can delete own projects" 
  ON public.projects FOR DELETE 
  USING (auth.uid() = user_id);

-- ============================================
-- –ü–û–õ–ò–¢–ò–ö–ò –î–õ–Ø –°–û–¶–ò–ê–õ–¨–ù–´–• –§–£–ù–ö–¶–ò–ô
-- ============================================

-- Genres - –≤—Å–µ–º –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å
CREATE POLICY "Genres are viewable by everyone" 
  ON public.genres FOR SELECT 
  USING (true);

-- Likes - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–≤–æ–∏–º–∏ –ª–∞–π–∫–∞–º–∏
CREATE POLICY "Users can manage own likes" 
  ON public.likes FOR ALL 
  USING (auth.uid() = user_id)
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Everyone can view likes" 
  ON public.likes FOR SELECT 
  USING (true);

-- Views - –ª—é–±–æ–π –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
CREATE POLICY "Anyone can insert views" 
  ON public.views FOR INSERT 
  WITH CHECK (true);

CREATE POLICY "View stats are public" 
  ON public.views FOR SELECT 
  USING (true);

-- Comments - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–≤–æ–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
CREATE POLICY "Comments are viewable by everyone" 
  ON public.comments FOR SELECT 
  USING (true);

CREATE POLICY "Users can create comments" 
  ON public.comments FOR INSERT 
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update own comments" 
  ON public.comments FOR UPDATE 
  USING (auth.uid() = user_id);

CREATE POLICY "Users can delete own comments" 
  ON public.comments FOR DELETE 
  USING (auth.uid() = user_id);

-- Follows - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–≤–æ–∏–º–∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
CREATE POLICY "Users can manage own follows" 
  ON public.follows FOR ALL 
  USING (auth.uid() = follower_id)
  WITH CHECK (auth.uid() = follower_id);

CREATE POLICY "Everyone can view follows" 
  ON public.follows FOR SELECT 
  USING (true);

-- ============================================
-- –ü–û–õ–ò–¢–ò–ö–ò –î–õ–Ø –û–°–¢–ê–õ–¨–ù–´–• –¢–ê–ë–õ–ò–¶
-- ============================================

-- Images - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–µ–∫—Ç—ã
CREATE POLICY "Users can manage images in own projects" 
  ON public.images FOR ALL 
  USING (
    EXISTS (
      SELECT 1 FROM public.projects 
      WHERE projects.id = images.project_id 
      AND projects.user_id = auth.uid()
    )
  );

-- Analytics - –ª—é–±–æ–π –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å
CREATE POLICY "Anyone can insert analytics" 
  ON public.analytics FOR INSERT 
  WITH CHECK (true);

CREATE POLICY "Users can view analytics for own projects" 
  ON public.analytics FOR SELECT 
  USING (
    EXISTS (
      SELECT 1 FROM public.projects 
      WHERE projects.id = analytics.project_id 
      AND projects.user_id = auth.uid()
    )
  );

-- Project versions - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–µ–∫—Ç—ã
CREATE POLICY "Users can manage versions of own projects" 
  ON public.project_versions FOR ALL 
  USING (
    EXISTS (
      SELECT 1 FROM public.projects 
      WHERE projects.id = project_versions.project_id 
      AND projects.user_id = auth.uid()
    )
  );
```

### 1.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Storage –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–í —Ä–∞–∑–¥–µ–ª–µ Storage** —Å–æ–∑–¥–∞–π—Ç–µ buckets:

1. **–î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–æ–≤:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `project-images`
   - Public bucket: ‚úÖ

2. **–î–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `avatars`
   - Public bucket: ‚úÖ

3. **–î–ª—è –ø—Ä–µ–≤—å—é –ø—Ä–æ–µ–∫—Ç–æ–≤:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `thumbnails`
   - Public bucket: ‚úÖ

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ **SQL Editor** –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è Storage:

```sql
-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è project-images
CREATE POLICY "Users can upload project images" 
  ON storage.objects FOR INSERT 
  WITH CHECK (
    bucket_id = 'project-images' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Users can update own project images" 
  ON storage.objects FOR UPDATE 
  USING (
    bucket_id = 'project-images' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Users can delete own project images" 
  ON storage.objects FOR DELETE 
  USING (
    bucket_id = 'project-images' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Public can view project images" 
  ON storage.objects FOR SELECT 
  USING (bucket_id = 'project-images');

-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è avatars
CREATE POLICY "Users can upload own avatar" 
  ON storage.objects FOR INSERT 
  WITH CHECK (
    bucket_id = 'avatars' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Users can update own avatar" 
  ON storage.objects FOR UPDATE 
  USING (
    bucket_id = 'avatars' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Public can view avatars" 
  ON storage.objects FOR SELECT 
  USING (bucket_id = 'avatars');

-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è thumbnails
CREATE POLICY "Users can manage own thumbnails" 
  ON storage.objects FOR ALL
  USING (
    bucket_id = 'thumbnails' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  )
  WITH CHECK (
    bucket_id = 'thumbnails' 
    AND auth.uid()::text = (storage.foldername(name))[1]
  );

CREATE POLICY "Public can view thumbnails" 
  ON storage.objects FOR SELECT 
  USING (bucket_id = 'thumbnails');
```

---

## –§–∞–∑–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ API —Å–ª–æ—è —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

### 2.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Ç–∏–ø–æ–≤

```typescript
// src/lib/supabase.ts
import { createClient } from '@supabase/supabase-js';

// –î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ interactive webtoon
const supabaseUrl = 'https://ennbxoy1oehzntqzxqvu.supabase.co';
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

export const supabase = createClient(supabaseUrl, supabaseAnonKey, {
  auth: {
    persistSession: true,
    autoRefreshToken: true,
    detectSessionInUrl: true,
    flowType: 'pkce',
  }
});

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è TypeScript
export interface Profile {
  id: string;
  username: string;
  full_name?: string;
  bio?: string;
  avatar_url?: string;
  website?: string;
  social_links?: {
    twitter?: string;
    instagram?: string;
    github?: string;
  };
  total_projects: number;
  total_views: number;
  total_likes: number;
  subscription_tier: 'free' | 'pro' | 'business';
  created_at: string;
  updated_at: string;
}

export interface Genre {
  id: string;
  name: string;
  slug: string;
  description?: string;
  color: string;
  icon: string;
  order_index: number;
  project_count: number;
}

export interface Project {
  id: string;
  user_id: string;
  genre_id?: string;
  genre?: Genre; // –¥–ª—è JOIN –∑–∞–ø—Ä–æ—Å–æ–≤
  author?: Profile; // –¥–ª—è JOIN –∑–∞–ø—Ä–æ—Å–æ–≤
  
  title: string;
  description?: string;
  thumbnail_url?: string;
  slug?: string;
  
  view_count: number;
  like_count: number;
  comment_count: number;
  
  is_published: boolean;
  is_public: boolean;
  is_featured: boolean;
  
  estimated_reading_time?: number;
  tags: string[];
  
  created_at: string;
  updated_at: string;
  
  // –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
  is_liked?: boolean; // –ª–∞–π–∫–Ω—É–ª –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
}

export interface Like {
  id: string;
  project_id: string;
  user_id: string;
  created_at: string;
}

export interface View {
  id: string;
  project_id: string;
  user_id?: string;
  session_id?: string;
  created_at: string;
}

export interface Comment {
  id: string;
  project_id: string;
  user_id: string;
  parent_id?: string;
  content: string;
  is_edited: boolean;
  created_at: string;
  updated_at: string;
  author?: Profile; // –¥–ª—è JOIN –∑–∞–ø—Ä–æ—Å–æ–≤
}

export interface Follow {
  id: string;
  follower_id: string;
  following_id: string;
  created_at: string;
}
```

### 2.2 Auth —Å–µ—Ä–≤–∏—Å —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏

```typescript
// src/services/auth.service.ts
import { supabase } from '@/lib/supabase';

export const authService = {
  async signUp(email: string, password: string, username: string) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å username
    const { data: existingUser } = await supabase
      .from('profiles')
      .select('id')
      .eq('username', username)
      .single();
    
    if (existingUser) {
      throw new Error('–≠—Ç–æ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –∑–∞–Ω—è—Ç–æ');
    }

    // –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const { data: authData, error: authError } = await supabase.auth.signUp({
      email,
      password,
      options: {
        data: {
          username, // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
        }
      }
    });

    if (authError) throw authError;

    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å
    if (authData.user) {
      const { error: profileError } = await supabase
        .from('profiles')
        .insert({
          id: authData.user.id,
          username,
          full_name: username,
          avatar_url: `https://ui-avatars.com/api/?name=${username}&background=random`,
        });

      if (profileError) throw profileError;
    }

    return authData;
  },

  async signIn(email: string, password: string) {
    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });

    if (error) throw error;
    return data;
  },

  async signInWithGitHub() {
    const { data, error } = await supabase.auth.signInWithOAuth({
      provider: 'github',
      options: {
        redirectTo: `${window.location.origin}/auth/callback`
      }
    });

    if (error) throw error;
    return data;
  },

  async signOut() {
    const { error } = await supabase.auth.signOut();
    if (error) throw error;
  },

  async getCurrentUser() {
    const { data: { user } } = await supabase.auth.getUser();
    return user;
  },

  async getProfile(userId: string) {
    const { data, error } = await supabase
      .from('profiles')
      .select('*')
      .eq('id', userId)
      .single();

    if (error) throw error;
    return data;
  },

  async updateProfile(userId: string, updates: Partial<Profile>) {
    const { data, error } = await supabase
      .from('profiles')
      .update({
        ...updates,
        updated_at: new Date().toISOString(),
      })
      .eq('id', userId)
      .select()
      .single();

    if (error) throw error;
    return data;
  },
};
```

### 2.3 Projects —Å–µ—Ä–≤–∏—Å —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

```typescript
// src/services/projects.service.ts
import { supabase } from '@/lib/supabase';
import { generateSlug } from '@/utils/slug';

export const projectsService = {
  async getProjects({
    userId,
    genreId,
    sortBy = 'created_at',
    isPublic = true,
    limit = 20,
    offset = 0,
  }: {
    userId?: string;
    genreId?: string;
    sortBy?: 'created_at' | 'view_count' | 'like_count';
    isPublic?: boolean;
    limit?: number;
    offset?: number;
  }) {
    let query = supabase
      .from('projects')
      .select(`
        *,
        author:profiles!projects_user_id_fkey (
          id, username, avatar_url
        ),
        genre:genres (
          id, name, slug, color, icon
        ),
        is_liked:likes!left (
          id
        )
      `, { count: 'exact' });

    // –§–∏–ª—å—Ç—Ä—ã
    if (userId) {
      query = query.eq('user_id', userId);
    }
    if (genreId) {
      query = query.eq('genre_id', genreId);
    }
    if (isPublic) {
      query = query.eq('is_public', true).eq('is_published', true);
    }

    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    const sortColumn = sortBy === 'created_at' ? 'created_at' : sortBy;
    query = query.order(sortColumn, { ascending: false });

    // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
    query = query.range(offset, offset + limit - 1);

    const { data, error, count } = await query;

    if (error) throw error;

    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º is_liked
    const projects = data?.map(project => ({
      ...project,
      is_liked: project.is_liked?.length > 0,
    }));

    return { projects, total: count };
  },

  async getFeaturedProjects() {
    const { data, error } = await supabase
      .from('projects')
      .select(`
        *,
        author:profiles!projects_user_id_fkey (
          id, username, avatar_url
        ),
        genre:genres (
          id, name, slug, color, icon
        )
      `)
      .eq('is_featured', true)
      .eq('is_public', true)
      .eq('is_published', true)
      .order('updated_at', { ascending: false })
      .limit(6);

    if (error) throw error;
    return data;
  },

  async getProjectBySlug(slug: string) {
    const { data, error } = await supabase
      .from('projects')
      .select(`
        *,
        author:profiles!projects_user_id_fkey (
          id, username, avatar_url, bio
        ),
        genre:genres (
          id, name, slug, color, icon
        ),
        project_versions (
          nodes, edges, version_number
        )
      `)
      .eq('slug', slug)
      .single();

    if (error) throw error;

    // –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
    const latestVersion = data.project_versions
      ?.sort((a, b) => b.version_number - a.version_number)[0];

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ª–∞–π–∫–Ω—É–ª –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    const user = await authService.getCurrentUser();
    let isLiked = false;
    
    if (user) {
      const { data: like } = await supabase
        .from('likes')
        .select('id')
        .eq('project_id', data.id)
        .eq('user_id', user.id)
        .single();
      
      isLiked = !!like;
    }

    return {
      ...data,
      nodes: latestVersion?.nodes || {},
      edges: latestVersion?.edges || [],
      is_liked: isLiked,
    };
  },

  async createProject(project: Partial<Project>) {
    const user = await authService.getCurrentUser();
    if (!user) throw new Error('Not authenticated');

    const slug = generateSlug(project.title);

    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–µ–∫—Ç
    const { data: projectData, error: projectError } = await supabase
      .from('projects')
      .insert({
        ...project,
        user_id: user.id,
        slug,
      })
      .select()
      .single();

    if (projectError) throw projectError;

    // –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é
    const { error: versionError } = await supabase
      .from('project_versions')
      .insert({
        project_id: projectData.id,
        version_number: 1,
        nodes: project.nodes || {},
        edges: project.edges || [],
        created_by: user.id,
      });

    if (versionError) throw versionError;

    return projectData;
  },

  async toggleLike(projectId: string) {
    const user = await authService.getCurrentUser();
    if (!user) throw new Error('Not authenticated');

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –ª–∞–π–∫
    const { data: existingLike } = await supabase
      .from('likes')
      .select('id')
      .eq('project_id', projectId)
      .eq('user_id', user.id)
      .single();

    if (existingLike) {
      // –£–¥–∞–ª—è–µ–º –ª–∞–π–∫
      const { error } = await supabase
        .from('likes')
        .delete()
        .eq('id', existingLike.id);
      
      if (error) throw error;
      return { liked: false };
    } else {
      // –î–æ–±–∞–≤–ª—è–µ–º –ª–∞–π–∫
      const { error } = await supabase
        .from('likes')
        .insert({
          project_id: projectId,
          user_id: user.id,
        });
      
      if (error) throw error;
      return { liked: true };
    }
  },

  async incrementViewCount(projectId: string) {
    const user = await authService.getCurrentUser();
    const sessionId = localStorage.getItem('session_id') || generateSessionId();
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º session_id –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    if (!localStorage.getItem('session_id')) {
      localStorage.setItem('session_id', sessionId);
    }

    const { error } = await supabase.rpc('increment_view_count', {
      p_project_id: projectId,
      p_user_id: user?.id || null,
      p_session_id: sessionId,
    });

    if (error) throw error;
  },
};
```

### 2.4 –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

```typescript
// src/services/social.service.ts
import { supabase } from '@/lib/supabase';

export const socialService = {
  // –ñ–∞–Ω—Ä—ã
  async getGenres() {
    const { data, error } = await supabase
      .from('genres')
      .select('*')
      .order('order_index');

    if (error) throw error;
    return data;
  },

  async getGenreBySlug(slug: string) {
    const { data, error } = await supabase
      .from('genres')
      .select('*')
      .eq('slug', slug)
      .single();

    if (error) throw error;
    return data;
  },

  // –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  async getUserProfile(username: string) {
    const { data, error } = await supabase
      .from('profiles')
      .select(`
        *,
        projects:projects!projects_user_id_fkey (
          id, title, slug, thumbnail_url, 
          view_count, like_count, created_at,
          genre:genres (name, color, icon)
        ),
        followers:follows!follows_following_id_fkey (count),
        following:follows!follows_follower_id_fkey (count)
      `)
      .eq('username', username)
      .single();

    if (error) throw error;

    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ
    return {
      ...data,
      follower_count: data.followers?.[0]?.count || 0,
      following_count: data.following?.[0]?.count || 0,
    };
  },

  // –ü–æ–¥–ø–∏—Å–∫–∏
  async toggleFollow(targetUserId: string) {
    const user = await authService.getCurrentUser();
    if (!user) throw new Error('Not authenticated');

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–¥–ø–∏—Å–∞–Ω –ª–∏ —É–∂–µ
    const { data: existingFollow } = await supabase
      .from('follows')
      .select('id')
      .eq('follower_id', user.id)
      .eq('following_id', targetUserId)
      .single();

    if (existingFollow) {
      // –û—Ç–ø–∏—Å—ã–≤–∞–µ–º—Å—è
      const { error } = await supabase
        .from('follows')
        .delete()
        .eq('id', existingFollow.id);
      
      if (error) throw error;
      return { following: false };
    } else {
      // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è
      const { error } = await supabase
        .from('follows')
        .insert({
          follower_id: user.id,
          following_id: targetUserId,
        });
      
      if (error) throw error;
      return { following: true };
    }
  },

  // –õ–∏–¥–µ—Ä–±–æ—Ä–¥
  async getLeaderboard(period: 'week' | 'month' | 'all' = 'all') {
    let dateFilter = new Date();
    
    switch (period) {
      case 'week':
        dateFilter.setDate(dateFilter.getDate() - 7);
        break;
      case 'month':
        dateFilter.setMonth(dateFilter.getMonth() - 1);
        break;
    }

    const { data, error } = await supabase
      .from('profiles')
      .select(`
        id, username, avatar_url,
        total_projects, total_views, total_likes
      `)
      .order('total_likes', { ascending: false })
      .limit(10);

    if (error) throw error;
    return data;
  },

  // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
  async getComments(projectId: string) {
    const { data, error } = await supabase
      .from('comments')
      .select(`
        *,
        author:profiles!comments_user_id_fkey (
          id, username, avatar_url
        )
      `)
      .eq('project_id', projectId)
      .order('created_at', { ascending: false });

    if (error) throw error;
    return data;
  },

  async addComment(projectId: string, content: string, parentId?: string) {
    const user = await authService.getCurrentUser();
    if (!user) throw new Error('Not authenticated');

    const { data, error } = await supabase
      .from('comments')
      .insert({
        project_id: projectId,
        user_id: user.id,
        parent_id: parentId,
        content,
      })
      .select(`
        *,
        author:profiles!comments_user_id_fkey (
          id, username, avatar_url
        )
      `)
      .single();

    if (error) throw error;

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
    await supabase
      .from('projects')
      .update({ comment_count: supabase.raw('comment_count + 1') })
      .eq('id', projectId);

    return data;
  },
};
```

### 2.5 Real-time –ø–æ–¥–ø–∏—Å–∫–∏

```typescript
// src/services/realtime.service.ts
import { supabase } from '@/lib/supabase';
import { RealtimeChannel } from '@supabase/supabase-js';

export class RealtimeService {
  private channels: Map<string, RealtimeChannel> = new Map();

  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ª–∞–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
  subscribeToPro
Likes(
    projectId: string,
    callback: (payload: any) => void
  ) {
    const channelName = `likes:${projectId}`;
    
    if (this.channels.has(channelName)) {
      return this.channels.get(channelName);
    }

    const channel = supabase
      .channel(channelName)
      .on(
        'postgres_changes',
        {
          event: '*',
          schema: 'public',
          table: 'likes',
          filter: `project_id=eq.${projectId}`
        },
        callback
      )
      .subscribe();

    this.channels.set(channelName, channel);
    return channel;
  }

  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
  subscribeToComments(
    projectId: string,
    callback: (payload: any) => void
  ) {
    const channelName = `comments:${projectId}`;
    
    if (this.channels.has(channelName)) {
      return this.channels.get(channelName);
    }

    const channel = supabase
      .channel(channelName)
      .on(
        'postgres_changes',
        {
          event: 'INSERT',
          schema: 'public',
          table: 'comments',
          filter: `project_id=eq.${projectId}`
        },
        callback
      )
      .subscribe();

    this.channels.set(channelName, channel);
    return channel;
  }

  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
  subscribeToProfile(
    userId: string,
    callback: (payload: any) => void
  ) {
    const channelName = `profile:${userId}`;
    
    if (this.channels.has(channelName)) {
      return this.channels.get(channelName);
    }

    const channel = supabase
      .channel(channelName)
      .on(
        'postgres_changes',
        {
          event: 'UPDATE',
          schema: 'public',
          table: 'profiles',
          filter: `id=eq.${userId}`
        },
        callback
      )
      .subscribe();

    this.channels.set(channelName, channel);
    return channel;
  }

  // –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –∫–∞–Ω–∞–ª–∞
  unsubscribe(channelName: string) {
    const channel = this.channels.get(channelName);
    if (channel) {
      supabase.removeChannel(channel);
      this.channels.delete(channelName);
    }
  }

  // –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤
  unsubscribeAll() {
    this.channels.forEach(channel => {
      supabase.removeChannel(channel);
    });
    this.channels.clear();
  }
}

export const realtimeService = new RealtimeService();
```

---

## –§–∞–∑–∞ 3: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### 3.1 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–∞–ª–µ—Ä–µ–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

```typescript
// src/components/Gallery.tsx
import { useState, useEffect } from 'react';
import { projectsService, socialService } from '@/services';
import { Heart, Eye, Clock, TrendingUp } from 'lucide-react';

export function Gallery() {
  const [projects, setProjects] = useState([]);
  const [genres, setGenres] = useState([]);
  const [filters, setFilters] = useState({
    genreId: null,
    sortBy: 'created_at',
    period: 'all',
  });
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    loadData();
  }, [filters]);

  const loadData = async () => {
    setLoading(true);
    try {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –∂–∞–Ω—Ä—ã –æ–¥–∏–Ω —Ä–∞–∑
      if (genres.length === 0) {
        const genresData = await socialService.getGenres();
        setGenres(genresData);
      }

      // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–µ–∫—Ç—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
      const { projects: projectsData } = await projectsService.getProjects({
        genreId: filters.genreId,
        sortBy: filters.sortBy,
        isPublic: true,
      });
      
      setProjects(projectsData);
    } catch (error) {
      console.error('Error loading gallery:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleLike = async (projectId: string, index: number) => {
    try {
      const { liked } = await projectsService.toggleLike(projectId);
      
      // –û–±–Ω–æ–≤–ª—è–µ–º UI –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ
      const newProjects = [...projects];
      newProjects[index].is_liked = liked;
      newProjects[index].like_count += liked ? 1 : -1;
      setProjects(newProjects);
    } catch (error) {
      console.error('Error toggling like:', error);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      {/* –§–∏–ª—å—Ç—Ä—ã */}
      <div className="bg-white shadow-sm border-b sticky top-0 z-10">
        <div className="max-w-7xl mx-auto px-4 py-4">
          {/* –ñ–∞–Ω—Ä—ã */}
          <div className="flex gap-2 overflow-x-auto pb-2">
            <button
              onClick={() => setFilters(f => ({ ...f, genreId: null }))}
              className={`px-4 py-2 rounded-full whitespace-nowrap ${
                !filters.genreId 
                  ? 'bg-blue-600 text-white' 
                  : 'bg-gray-100 hover:bg-gray-200'
              }`}
            >
              –í—Å–µ –∂–∞–Ω—Ä—ã
            </button>
            {genres.map(genre => (
              <button
                key={genre.id}
                onClick={() => setFilters(f => ({ ...f, genreId: genre.id }))}
                className={`px-4 py-2 rounded-full whitespace-nowrap flex items-center gap-1 ${
                  filters.genreId === genre.id
                    ? 'text-white'
                    : 'bg-gray-100 hover:bg-gray-200'
                }`}
                style={{
                  backgroundColor: filters.genreId === genre.id ? genre.color : '',
                }}
              >
                <span>{genre.icon}</span>
                <span>{genre.name}</span>
              </button>
            ))}
          </div>

          {/* –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ */}
          <div className="flex gap-2 mt-3">
            <button
              onClick={() => setFilters(f => ({ ...f, sortBy: 'created_at' }))}
              className={`px-3 py-1 rounded text-sm ${
                filters.sortBy === 'created_at'
                  ? 'bg-blue-100 text-blue-700'
                  : 'text-gray-600 hover:bg-gray-100'
              }`}
            >
              <Clock size={14} className="inline mr-1" />
              –ù–æ–≤—ã–µ
            </button>
            <button
              onClick={() => setFilters(f => ({ ...f, sortBy: 'view_count' }))}
              className={`px-3 py-1 rounded text-sm ${
                filters.sortBy === 'view_count'
                  ? 'bg-blue-100 text-blue-700'
                  : 'text-gray-600 hover:bg-gray-100'
              }`}
            >
              <Eye size={14} className="inline mr-1" />
              –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ
            </button>
            <button
              onClick={() => setFilters(f => ({ ...f, sortBy: 'like_count' }))}
              className={`px-3 py-1 rounded text-sm ${
                filters.sortBy === 'like_count'
                  ? 'bg-blue-100 text-blue-700'
                  : 'text-gray-600 hover:bg-gray-100'
              }`}
            >
              <TrendingUp size={14} className="inline mr-1" />
              –¢–æ–ø
            </button>
          </div>
        </div>
      </div>

      {/* –°–µ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ */}
      <div className="max-w-7xl mx-auto px-4 py-8">
        {loading ? (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            {[...Array(8)].map((_, i) => (
              <div key={i} className="bg-white rounded-lg shadow-md animate-pulse">
                <div className="w-full h-48 bg-gray-200" />
                <div className="p-4">
                  <div className="h-4 bg-gray-200 rounded mb-2" />
                  <div className="h-3 bg-gray-200 rounded w-2/3" />
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            {projects.map((project, index) => (
              <ProjectCard
                key={project.id}
                project={project}
                onLike={() => handleLike(project.id, index)}
              />
            ))}
          </div>
        )}
      </div>
    </div>
  );
}

function ProjectCard({ project, onLike }) {
  return (
    <div className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow">
      {/* –ü—Ä–µ–≤—å—é */}
      <div className="relative">
        <img
          src={project.thumbnail_url || '/placeholder.jpg'}
          alt={project.title}
          className="w-full h-48 object-cover rounded-t-lg"
        />
        {project.genre && (
          <div
            className="absolute top-2 left-2 px-2 py-1 rounded text-white text-xs font-medium"
            style={{ backgroundColor: project.genre.color }}
          >
            {project.genre.icon} {project.genre.name}
          </div>
        )}
      </div>

      {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
      <div className="p-4">
        <h3 className="font-semibold text-gray-800 mb-1 truncate">
          {project.title}
        </h3>
        <p className="text-sm text-gray-600 mb-2 line-clamp-2">
          {project.description}
        </p>

        {/* –ê–≤—Ç–æ—Ä */}
        <div className="flex items-center gap-2 mb-3">
          <img
            src={project.author?.avatar_url}
            alt={project.author?.username}
            className="w-6 h-6 rounded-full"
          />
          <span className="text-sm text-gray-600">
            {project.author?.username}
          </span>
        </div>

        {/* –ú–µ—Ç—Ä–∏–∫–∏ */}
        <div className="flex items-center justify-between">
          <div className="flex gap-3 text-sm text-gray-500">
            <span className="flex items-center gap-1">
              <Eye size={14} />
              {project.view_count}
            </span>
            <button
              onClick={onLike}
              className={`flex items-center gap-1 hover:text-red-500 transition-colors ${
                project.is_liked ? 'text-red-500' : ''
              }`}
            >
              <Heart size={14} fill={project.is_liked ? 'currentColor' : 'none'} />
              {project.like_count}
            </button>
          </div>
          
          <a
            href={`/view/${project.slug}`}
            className="text-sm text-blue-600 hover:text-blue-700"
          >
            –ß–∏—Ç–∞—Ç—å ‚Üí
          </a>
        </div>
      </div>
    </div>
  );
}
```

### 3.2 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```typescript
// src/components/UserProfile.tsx
import { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import { socialService } from '@/services';
import { Heart, Eye, BookOpen, Users } from 'lucide-react';

export function UserProfile() {
  const { username } = useParams();
  const [profile, setProfile] = useState(null);
  const [isFollowing, setIsFollowing] = useState(false);
  const [activeTab, setActiveTab] = useState('projects');

  useEffect(() => {
    loadProfile();
  }, [username]);

  const loadProfile = async () => {
    try {
      const data = await socialService.getUserProfile(username);
      setProfile(data);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–¥–ø–∏—Å–∞–Ω –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
      // TODO: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
    } catch (error) {
      console.error('Error loading profile:', error);
    }
  };

  const handleFollow = async () => {
    try {
      const { following } = await socialService.toggleFollow(profile.id);
      setIsFollowing(following);
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
      setProfile(prev => ({
        ...prev,
        follower_count: prev.follower_count + (following ? 1 : -1)
      }));
    } catch (error) {
      console.error('Error toggling follow:', error);
    }
  };

  if (!profile) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;

  return (
    <div className="min-h-screen bg-gray-50">
      {/* –®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è */}
      <div className="bg-white shadow-sm">
        <div className="max-w-6xl mx-auto px-4 py-8">
          <div className="flex items-start gap-8">
            {/* –ê–≤–∞—Ç–∞—Ä */}
            <img
              src={profile.avatar_url}
              alt={profile.username}
              className="w-32 h-32 rounded-full border-4 border-gray-200"
            />

            {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
            <div className="flex-1">
              <div className="flex items-center gap-4 mb-4">
                <h1 className="text-3xl font-bold">{profile.username}</h1>
                <button
                  onClick={handleFollow}
                  className={`px-4 py-2 rounded-lg font-medium ${
                    isFollowing
                      ? 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                      : 'bg-blue-600 text-white hover:bg-blue-700'
                  }`}
                >
                  {isFollowing ? '–û—Ç–ø–∏—Å–∞—Ç—å—Å—è' : '–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è'}
                </button>
              </div>

              {profile.bio && (
                <p className="text-gray-600 mb-4">{profile.bio}</p>
              )}

              {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
              <div className="flex gap-6">
                <div className="text-center">
                  <div className="text-2xl font-bold">{profile.total_projects}</div>
                  <div className="text-sm text-gray-500">–ö–æ–º–∏–∫—Å–æ–≤</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-bold">
                    {formatNumber(profile.total_views)}
                  </div>
                  <div className="text-sm text-gray-500">–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-bold">
                    {formatNumber(profile.total_likes)}
                  </div>
                  <div className="text-sm text-gray-500">–õ–∞–π–∫–æ–≤</div>
                </div>
                <div className="text-center">
                  <div className="text-2xl font-bold">
                    {profile.follower_count}
                  </div>
                  <div className="text-sm text-gray-500">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* –¢–∞–±—ã */}
      <div className="bg-white border-b sticky top-0">
        <div className="max-w-6xl mx-auto px-4">
          <div className="flex gap-8">
            <button
              onClick={() => setActiveTab('projects')}
              className={`py-4 border-b-2 font-medium ${
                activeTab === 'projects'
                  ? 'border-blue-600 text-blue-600'
                  : 'border-transparent text-gray-600'
              }`}
            >
              <BookOpen size={18} className="inline mr-2" />
              –ö–æ–º–∏–∫—Å—ã
            </button>
            <button
              onClick={() => setActiveTab('stats')}
              className={`py-4 border-b-2 font-medium ${
                activeTab === 'stats'
                  ? 'border-blue-600 text-blue-600'
                  : 'border-transparent text-gray-600'
              }`}
            >
              üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            </button>
          </div>
        </div>
      </div>

      {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
      <div className="max-w-6xl mx-auto px-4 py-8">
        {activeTab === 'projects' && (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {profile.projects?.map(project => (
              <div key={project.id} className="bg-white rounded-lg shadow-md p-4">
                <img
                  src={project.thumbnail_url || '/placeholder.jpg'}
                  alt={project.title}
                  className="w-full h-40 object-cover rounded mb-3"
                />
                <h3 className="font-semibold mb-2">{project.title}</h3>
                <div className="flex items-center justify-between text-sm text-gray-500">
                  <div className="flex gap-3">
                    <span className="flex items-center gap-1">
                      <Eye size={14} />
                      {project.view_count}
                    </span>
                    <span className="flex items-center gap-1">
                      <Heart size={14} />
                      {project.like_count}
                    </span>
                  </div>
                  <span
                    className="px-2 py-1 rounded text-xs"
                    style={{
                      backgroundColor: project.genre?.color + '20',
                      color: project.genre?.color
                    }}
                  >
                    {project.genre?.icon} {project.genre?.name}
                  </span>
                </div>
              </div>
            ))}
          </div>
        )}

        {activeTab === 'stats' && (
          <div className="bg-white rounded-lg shadow-sm p-6">
            <h2 className="text-xl font-semibold mb-4">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∂–∞–Ω—Ä–∞–º</h2>
            {/* TODO: –î–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ */}
            <p className="text-gray-500">–ì—Ä–∞—Ñ–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–∑–∂–µ</p>
          </div>
        )}
      </div>
    </div>
  );
}

function formatNumber(num: number): string {
  if (num >= 1000000) {
    return (num / 1000000).toFixed(1) + 'M';
  }
  if (num >= 1000) {
    return (num / 1000).toFixed(1) + 'K';
  }
  return num.toString();
}
```

### 3.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞

```typescript
// src/components/Leaderboard.tsx
import { useState, useEffect } from 'react';
import { socialService } from '@/services';
import { Trophy, TrendingUp, Eye, Heart } from 'lucide-react';

export function Leaderboard() {
  const [leaders, setLeaders] = useState([]);
  const [period, setPeriod] = useState<'week' | 'month' | 'all'>('all');
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    loadLeaderboard();
  }, [period]);

  const loadLeaderboard = async () => {
    setLoading(true);
    try {
      const data = await socialService.getLeaderboard(period);
      setLeaders(data);
    } catch (error) {
      console.error('Error loading leaderboard:', error);
    } finally {
      setLoading(false);
    }
  };

  const getMedalColor = (position: number) => {
    switch (position) {
      case 1: return 'text-yellow-500';
      case 2: return 'text-gray-400';
      case 3: return 'text-orange-600';
      default: return 'text-gray-600';
    }
  };

  return (
    <div className="max-w-4xl mx-auto px-4 py-8">
      <div className="bg-white rounded-lg shadow-lg">
        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
        <div className="p-6 border-b">
          <h1 className="text-2xl font-bold flex items-center gap-2">
            <Trophy className="text-yellow-500" />
            –õ–∏–¥–µ—Ä–±–æ—Ä–¥ –∞–≤—Ç–æ—Ä–æ–≤
          </h1>
          
          {/* –§–∏–ª—å—Ç—Ä –ø–µ—Ä–∏–æ–¥–∞ */}
          <div className="flex gap-2 mt-4">
            <button
              onClick={() => setPeriod('week')}
              className={`px-4 py-2 rounded-lg ${
                period === 'week'
                  ? 'bg-blue-600 text-white'
                  : 'bg-gray-100 text-gray-700'
              }`}
            >
              –ù–µ–¥–µ–ª—è
            </button>
            <button
              onClick={() => setPeriod('month')}
              className={`px-4 py-2 rounded-lg ${
                period === 'month'
                  ? 'bg-blue-600 text-white'
                  : 'bg-gray-100 text-gray-700'
              }`}
            >
              –ú–µ—Å—è—Ü
            </button>
            <button
              onClick={() => setPeriod('all')}
              className={`px-4 py-2 rounded-lg ${
                period === 'all'
                  ? 'bg-blue-600 text-white'
                  : 'bg-gray-100 text-gray-700'
              }`}
            >
              –í—Å–µ –≤—Ä–µ–º—è
            </button>
          </div>
        </div>

        {/* –°–ø–∏—Å–æ–∫ –ª–∏–¥–µ—Ä–æ–≤ */}
        <div className="divide-y">
          {loading ? (
            <div className="p-8 text-center text-gray-500">
              –ó–∞–≥—Ä—É–∑–∫–∞...
            </div>
          ) : (
            leaders.map((user, index) => (
              <div
                key={user.id}
                className="p-4 flex items-center gap-4 hover:bg-gray-50 transition-colors"
              >
                {/* –ü–æ–∑–∏—Ü–∏—è */}
                <div className={`text-2xl font-bold w-12 text-center ${getMedalColor(index + 1)}`}>
                  {index < 3 ? (
                    <span className="text-3xl">
                      {index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : 'ü•â'}
                    </span>
                  ) : (
                    index + 1
                  )}
                </div>

                {/* –ê–≤–∞—Ç–∞—Ä –∏ –∏–º—è */}
                <div className="flex items-center gap-3 flex-1">
                  <img
                    src={user.avatar_url}
                    alt={user.username}
                    className="w-12 h-12 rounded-full"
                  />
                  <div>
                    <a
                      href={`/user/${user.username}`}
                      className="font-semibold text-gray-800 hover:text-blue-600"
                    >
                      {user.username}
                    </a>
                    <div className="text-sm text-gray-500">
                      {user.total_projects} –∫–æ–º–∏–∫—Å–æ–≤
                    </div>
                  </div>
                </div>

                {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
                <div className="flex gap-4 text-sm">
                  <div className="flex items-center gap-1 text-gray-600">
                    <Eye size={16} />
                    <span>{formatNumber(user.total_views)}</span>
                  </div>
                  <div className="flex items-center gap-1 text-red-500">
                    <Heart size={16} />
                    <span className="font-semibold">{formatNumber(user.total_likes)}</span>
                  </div>
                </div>
              </div>
            ))
          )}
        </div>
      </div>
    </div>
  );
}
```

---

## –§–∞–∑–∞ 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 4.1 –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å React Query

```typescript
// src/hooks/useSupabaseQuery.ts
import { useQuery, useMutation, useQueryClient } from 'react-query';
import { projectsService, socialService } from '@/services';

// –•—É–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
export function useProjects(filters: any) {
  return useQuery(
    ['projects', filters],
    () => projectsService.getProjects(filters),
    {
      staleTime: 30 * 1000, // 30 —Å–µ–∫—É–Ω–¥
      cacheTime: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
    }
  );
}

// –•—É–∫ –¥–ª—è –ª–∞–π–∫–æ–≤ —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
export function useLike() {
  const queryClient = useQueryClient();

  return useMutation(
    (projectId: string) => projectsService.toggleLike(projectId),
    {
      onMutate: async (projectId) => {
        // –û—Ç–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
        await queryClient.cancelQueries(['projects']);

        // –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º UI
        const previousProjects = queryClient.getQueryData(['projects']);
        
        queryClient.setQueryData(['projects'], (old: any) => {
          // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–∞–π–∫–∞
          return {
            ...old,
            projects: old.projects.map((p: any) =>
              p.id === projectId
                ? { ...p, is_liked: !p.is_liked, like_count: p.like_count + (p.is_liked ? -1 : 1) }
                : p
            ),
          };
        });

        return { previousProjects };
      },
      onError: (err, projectId, context) => {
        // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∏ –æ—à–∏–±–∫–µ
        queryClient.setQueryData(['projects'], context?.previousProjects);
      },
      onSettled: () => {
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
        queryClient.invalidateQueries(['projects']);
      },
    }
  );
}

// –•—É–∫ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
export function useUserProfile(username: string) {
  return useQuery(
    ['profile', username],
    () => socialService.getUserProfile(username),
    {
      staleTime: 60 * 1000, // 1 –º–∏–Ω—É—Ç–∞
      enabled: !!username,
    }
  );
}

// –•—É–∫ –¥–ª—è –∂–∞–Ω—Ä–æ–≤ (–∫–µ—à–∏—Ä—É–µ–º –Ω–∞–¥–æ–ª–≥–æ)
export function useGenres() {
  return useQuery(
    'genres',
    () => socialService.getGenres(),
    {
      staleTime: 60 * 60 * 1000, // 1 —á–∞—Å
      cacheTime: 24 * 60 * 60 * 1000, // 24 —á–∞—Å–∞
    }
  );
}
```

### 4.2 –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç —Å Zustand

```typescript
// src/store/app.store.ts
import { create } from 'zustand';
import { devtools, persist } from 'zustand/middleware';

interface AppState {
  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  user: any | null;
  profile: Profile | null;
  
  // UI —Å–æ—Å—Ç–æ—è–Ω–∏—è
  sidebarOpen: boolean;
  theme: 'light' | 'dark';
  
  // –î–µ–π—Å—Ç–≤–∏—è
  setUser: (user: any) => void;
  setProfile: (profile: Profile) => void;
  toggleSidebar: () => void;
  setTheme: (theme: 'light' | 'dark') => void;
  
  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  notifications: Notification[];
  addNotification: (notification: Notification) => void;
  removeNotification: (id: string) => void;
}

export const useAppStore = create<AppState>()(
  devtools(
    persist(
      (set) => ({
        // –ù–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
        user: null,
        profile: null,
        sidebarOpen: true,
        theme: 'light',
        notifications: [],

        // –î–µ–π—Å—Ç–≤–∏—è
        setUser: (user) => set({ user }),
        setProfile: (profile) => set({ profile }),
        toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),
        setTheme: (theme) => set({ theme }),
        
        addNotification: (notification) =>
          set((state) => ({
            notifications: [...state.notifications, notification],
          })),
          
        removeNotification: (id) =>
          set((state) => ({
            notifications: state.notifications.filter((n) => n.id !== id),
          })),
      }),
      {
        name: 'app-storage',
        partialize: (state) => ({ theme: state.theme }), // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–º—É
      }
    )
  )
);
```

---

## –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –∑–∞–ø—É—Å–∫—É

### –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- [ ] –¢–∞–±–ª–∏—Ü—ã –ë–î —Å–æ–∑–¥–∞–Ω—ã —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (–§–∞–∑–∞ 1.2)
- [ ] RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–§–∞–∑–∞ 1.3)
- [ ] Storage buckets —Å–æ–∑–¥–∞–Ω—ã (–§–∞–∑–∞ 1.4)
- [ ] npm –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### MVP —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (3 –Ω–µ–¥–µ–ª–∏):
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (GitHub/Email)
- [ ] –ì–∞–ª–µ—Ä–µ—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –∂–∞–Ω—Ä–∞–º
- [ ] –°—á–µ—Ç—á–∏–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ –ª–∞–π–∫–æ–≤
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ë–∞–∑–æ–≤—ã–π –ª–∏–¥–µ—Ä–±–æ—Ä–¥
- [ ] Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∞–π–∫–æ–≤

### Beta –≤–µ—Ä—Å–∏—è (1 –º–µ—Å—è—Ü):
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º
- [ ] –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤
- [ ] Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ª–∞–π–∫–∞—Ö
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∞–π–∫–æ–≤

### Production —Å –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–µ–π (2 –º–µ—Å—è—Ü–∞):
- [ ] –ü–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- [ ] –ü—Ä–µ–º–∏—É–º –∂–∞–Ω—Ä—ã –¥–ª—è Pro –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] Marketplace –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∫–æ–º–∏–∫—Å–æ–≤
- [ ] –°–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- [ ] A/B —Ç–µ—Å—Ç—ã –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

### –î–µ–ª–∞–π—Ç–µ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å:
1. **–ë–∞–∑–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Supabase** - –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ñ–∞–Ω—Ä—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã** - —É–ª—É—á—à–∞—é—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å—Ä–∞–∑—É
3. **–ü—Ä–æ—Å–º–æ—Ç—Ä—ã –∏ –ª–∞–π–∫–∏** - —Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ
4. **–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - —Å—Ç—Ä–æ—è—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–æ

### –ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å:
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Å–ª–æ–∂–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è)
- –ü–æ–¥–ø–∏—Å–∫–∏ (–Ω—É–∂–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å—Å–∞)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–¥–ª—è –Ω–∞—á–∞–ª–∞ —Ö–≤–∞—Ç–∏—Ç –±–∞–∑–æ–≤–æ–π)
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

### Killer Features –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:
- **Real-time –ª–∞–π–∫–∏** - —Å–æ–∑–¥–∞—é—Ç –æ—â—É—â–µ–Ω–∏–µ –∂–∏–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **–õ–∏–¥–µ—Ä–±–æ—Ä–¥** - –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ
- **–£–º–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** - –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ –ª—É—á—à–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ interactive webtoon:
- [Supabase Dashboard](https://supabase.com/dashboard/project/ennbxoy1oehzntqzxqvu)
- [Supabase Docs - Social Features](https://supabase.com/docs/guides/database/postgres/row-level-security)
- [React Query Examples](https://tanstack.com/query/latest/docs/react/examples/optimistic-updates)
- [Zustand Documentation](https://docs.pmnd.rs/zustand/getting-started/introduction)

### –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π:
- [Supabase Realtime Example](https://github.com/supabase/realtime/tree/main/examples)
- [Social Network Schema](https://github.com/supabase/supabase/tree/master/examples/slack-clone)
- [Leaderboard Implementation](https://supabase.com/blog/postgres-views)

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ê–≤–≥—É—Å—Ç 2025*
*–ü—Ä–æ–µ–∫—Ç: interactive webtoon (drdangr)*
*–í–µ—Ä—Å–∏—è: 2.0 - —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏*